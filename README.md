# Movie list API demo

A super quick demo to illustrate how to read movies from and write movies to a MongoDB database running locally.

## Run

You'll need:

- A Node new enough to support async/await (>= 7.6, but just use the latest 8)
- MongoDB running on your machine, accessible at mongodb://localhost:27017 (the default port)

Do:

- `yarn`
- `node server.js`
- http://localhost:1234/movies

## Endpoints

### List all movies in the database

Go to http://localhost:1234/movies in Chrome

### List only the titles of all movies in the database

Go to http://localhost:1234/movie-titles in Chrome

### Store a new movie in the database

Use [Postman](https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=en) or something similar to send a POST request to http://localhost:1234/movies.

You need the header `Content-Type: application/json`.

The body __must__ contain:

- title (String)

The body __may__ contain:

- year (Number)

Example:

```
POST http://localhost:1234/movies
Content-Type: application/json

{ "title": "Harry Potter and the Philosopher's Stone", year: 2001 }
```

Assuming everything went well, you receive the document that was stored (`title`, optionally `year`, and the autogenerated `_id` field and `__v` which doesn't matter).

After you're done, head over to http://localhost:1234/movies to see that it's now part of the collection in the database.
